# Аудит резюме (RASHOTKLIK)

Chrome-расширение: получает резюме с HH.ru, отправляет его в DeepSeek через API VseLLM по настроенному промпту и показывает аудит с возможностью скачать результат.

## Что нужно

- **Chrome** (или другой браузер на базе Chromium с поддержкой расширений).
- **API-ключ VseLLM** — обязателен для отправки в ИИ. Получить: [vsellm.ru/account/dashboard](https://vsellm.ru/account/dashboard).
- **Токен HH.ru** — опционально. Если указан в настройках, резюме запрашивается **напрямую с api.hh.ru** (GET `/resumes/{id}` с заголовком `Authorization: Bearer {токен}`) — вы получаете полный JSON ответа API без парсинга страницы. Без токена используется парсинг DOM страницы.

## Установка

1. Скачайте или клонируйте репозиторий.
2. **Конфиг (обязательно):** в папке `server_data/` создайте файл `config.json`. Скопируйте содержимое из `server_data/config.json.example` и подставьте свой API-ключ VseLLM (получить на [vsellm.ru](https://vsellm.ru)). Без этого файла кнопка «Отправить в ИИ» не заработает.
3. Откройте в Chrome `chrome://extensions/`, включите «Режим разработчика».
4. Нажмите «Загрузить распакованное расширение» и выберите папку проекта (корень с `manifest.json`).
5. Расширение появится в списке; иконку можно закрепить на панели.

**После обновления кода расширения:** зайдите в `chrome://extensions`, нажмите «Обновить» у расширения, затем **обновите вкладку с резюме (F5)** или закройте её и откройте ссылку заново. Иначе в странице продолжит работать старая версия content script.

## Как пользоваться

1. Откройте **страницу своего резюме на hh.ru** (например `https://hh.ru/resume/...`).
2. Нажмите на иконку расширения → в popup нажмите **«Получить резюме с HH.ru»**. Данные резюме сохранятся в расширении.
3. Откройте **Настройки** (правый клик по иконке расширения → «Настройки» или ссылка с `chrome://extensions`). Укажите **API-ключ VseLLM** и при необходимости отредактируйте **промпт аудита**. Нажмите «Сохранить». Опционально: «Загрузить промпт по умолчанию», «Проверить подключение».
4. В popup нажмите **«Отправить в ИИ (DeepSeek)»**. Дождитесь ответа — текст аудита появится в блоке «Последний аудит».
5. Нажмите **«Скачать результат»** — сохранится файл вида `audit_resume_YYYY-MM-DD_HH-mm.txt` с текстом аудита.

### Формат для другого проекта (Rezume/resume)

В проекте `Rezume/resume` используется формат **`resume_for_analysis.json`** с одним полем **`resume_text`** (весь текст резюме). Его использует `run_audit.py`.

- **Из расширения:** после загрузки резюме нажмите **«Скачать для аудита (resume_text)»** — скачается `resume_for_analysis.json`. Сохраните его в папку `Rezume/resume/` и при необходимости запустите `python resume/run_audit.py`.
- **Из уже сохранённого JSON:** из корня проекта выполните  
  `node scripts/to-resume-for-analysis.js`  
  (скрипт возьмёт последний `Rezume/resume_*.json` и создаст `Rezume/../resume/resume_for_analysis.json`).

## Структура проекта

```
RASHOTKLIK/
├── manifest.json
├── ASSEMBLY_PLAN.md          ← пошаговая сборка для ИИ
├── PLAN_AND_ARCHITECTURE.md  ← цель, архитектура, поток данных
├── README.md                 ← этот файл
├── prompts/
│   ├── default-audit.txt     ← промпт по умолчанию (плейсхолдер RESUME_JSON)
│   └── README.md
├── popup/
│   ├── popup.html
│   ├── popup.js
│   └── popup.css
├── options/
│   ├── options.html
│   ├── options.js
│   └── options.css
└── scripts/
    ├── background.js         ← service worker: оркестрация, storage
    ├── contentScript.js      ← парсинг резюме на hh.ru
    └── apiClient.js          ← вызов VseLLM/DeepSeek
```

Подробнее: [PLAN_AND_ARCHITECTURE.md](PLAN_AND_ARCHITECTURE.md), [ASSEMBLY_PLAN.md](ASSEMBLY_PLAN.md).

## Документация

- [АВТОРИЗАЦИЯ_И_ТОКЕНЫ_СВОДКА.md](АВТОРИЗАЦИЯ_И_ТОКЕНЫ_СВОДКА.md) — авторизация и токены
- [GITHUB_SETUP.md](GITHUB_SETUP.md) — выкладка на GitHub
- [CONTRIBUTING.md](CONTRIBUTING.md) — правила для команды
